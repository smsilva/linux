#!/bin/bash
FILE_MODE_BITS="${1}"

if [ -z "${FILE_MODE_BITS}" ]; then
  seq 1 7 | while read -r BIT; do
    echo "${BIT}" $(modebits ${BIT})
  done
  exit 0
fi

PERMISSIONS=""

for (( i=0; i<${#FILE_MODE_BITS}; i++ )); do
  case ${FILE_MODE_BITS:i:1} in
    7) PERMISSIONS+="rwx" ;;  # Leitura, escrita e execução
    6) PERMISSIONS+="rw-" ;;  # Leitura e escrita
    5) PERMISSIONS+="r-x" ;;  # Leitura e execução
    4) PERMISSIONS+="r--" ;;  # Apenas leitura
    3) PERMISSIONS+="wx-" ;;  # Escrita e execução
    2) PERMISSIONS+="-w-" ;;  # Apenas escrita
    1) PERMISSIONS+="--x" ;;  # Apenas execução
    0) PERMISSIONS+="---" ;;  # Sem permissões
  esac
done

echo "$PERMISSIONS"
